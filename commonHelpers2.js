import{g as R,h as x,u as D,a as O,b as W}from"./assets/api-63bf6708.js";import{s as $}from"./assets/vendor-09b70374.js";const v=new $.Converter,k={container:document.querySelector(".js-container")};let E;k.container.addEventListener("click",async e=>{const n=e.target.closest(".js-element");if(!n)return;const t=n.dataset.name,o=R(t),i=x();C(o),i?N(o):S(o)});async function S(e){const n=await e,t=I(n);E=basicLightbox.create(t),E.show()}async function N(e){const n=await e,t=A(n);E=basicLightbox.create(t,{onShow:()=>{window.addEventListener("submit",T)},onClose:()=>{window.removeEventListener("submit",T)}}),E.show()}function C(e){const n=basicLightbox.create(`
  <div class="modal">
  <h1>LOADING</h1>
<div>`);n.show(),e.then(()=>{n.close()})}function I(e){return console.log(e),`<div class="modal">
  <div class="info">
  <div><h1><span>${e.name}</span> - ${e.title}</h1><p>${e.index}</p></div>
  <div class="content">${v.makeHtml(e.description)}</div>
  <div class="content">${v.makeHtml(e.description2)}</div>
  </div></div>`}function A(e){return console.log(e),`<div class="modal">
  <form class="info js-form">
    <input name="name" class="form-control" type="text" readonly value="${e.name}">
    <textarea name="description" class="form-control" type="text" placeholder="Description">${e.description}</textarea>
    <textarea name="description2" class="form-control" type="text" placeholder="Description">${e.description2}</textarea>
    <button class="form-btn">Update Info</button>
  </form>
<div>`}function T(e){e.preventDefault();const n=new FormData(e.target),t=Object.fromEntries(n.entries());D(t),E.close(),e.target.reset(),B(t)}function B(e){const n=document.querySelector(`.js-element[data-name="${e.name}"]`);!!e.description2?n.classList.add("desc"):n.classList.remove("desc")}function y(){new TWEEN.Tween(r.position).to({x:w.x,y:w.y,z:w.z},1e3).easing(TWEEN.Easing.Quadratic.InOut).start(),P()}function P(){const e=new THREE.Vector3(0,1,0);r.up=e,h.update()}function q(e=[]){console.log(e),e.forEach(()=>{const t=new THREE.Object3D;t.position.x=Math.random()*4e3-2e3,t.position.y=Math.random()*4e3-2e3,t.position.z=Math.random()*4e3-2e3,a.random.push(t)}),e.forEach(t=>{const o=new THREE.Object3D;o.position.x=t.x*160-1540,o.position.y=-(t.y*200)+1100,a.table.push(o)});const n=new THREE.Vector3;u.forEach((t,o,i)=>{const s=Math.acos(-1+2*o/i.length),c=Math.sqrt(i.length*Math.PI)*s,l=new THREE.Object3D;l.position.x=1e3*Math.cos(c)*Math.sin(s),l.position.y=1e3*Math.sin(c)*Math.sin(s),l.position.z=1e3*Math.cos(s),n.copy(l.position).multiplyScalar(2),l.lookAt(n),a.sphere.push(l)}),u.forEach((t,o)=>{const i=o*.175+Math.PI,s=new THREE.Object3D;s.position.x=1100*Math.sin(i),s.position.y=-(o*8)+450,s.position.z=1100*Math.cos(i);const c=new THREE.Vector3;c.copy(s.position),c.x*=2,c.z*=2,s.lookAt(c),a.helix.push(s)}),u.forEach((t,o)=>{const i=new THREE.Object3D;i.position.x=o%5*400-800,i.position.y=-(Math.floor(o/5)%5)*400+800,i.position.z=Math.floor(o/25)*1e3-2e3,a.grid.push(i)})}function g(e,n){TWEEN.removeAll(),u.forEach((t,o)=>{const i=e[o];new TWEEN.Tween(t.position).to({x:i.position.x,y:i.position.y,z:i.position.z},Math.random()*n+n).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(t.rotation).to({x:i.rotation.x,y:i.rotation.y,z:i.rotation.z},Math.random()*n+n).easing(TWEEN.Easing.Exponential.InOut).start()}),new TWEEN.Tween({}).to({},n*2).onUpdate(M).start()}function V(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}let r,b,d,h,u=[],a={table:[],sphere:[],helix:[],grid:[],random:[]},w=new THREE.Vector3;function M(){d.render(b,r)}function F(e=[],n=2e3){r=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,5e3),r.position.z=1800,w.copy(r.position),b=new THREE.Scene,e.forEach((t,o)=>{const{name:i,title:s,massa:c,index:l,index2:Q,description:J,description2:j,tags:H}=t,m=document.createElement("div"),z=!!j;m.className=`element js-element ${H.join(" ")}`,z&&m.classList.add("desc"),m.dataset.id=o,m.dataset.name=i,m.innerHTML=U(o,i,s,c);const p=new THREE.CSS3DObject(m);p.position.x=Math.random()*4e3-2e3,p.position.y=Math.random()*4e3-2e3,p.position.z=Math.random()*4e3-2e3,b.add(p),u.push(p)}),q(e),d=new THREE.WebGLRenderer,d.setSize(window.innerWidth,window.innerHeight),d.domElement.style.position="absolute",d.domElement.style.top=0,document.getElementById("container").appendChild(d.domElement),h=new THREE.TrackballControls(r,d.domElement),h.rotateSpeed=.5,h.addEventListener("change",M),window.addEventListener("resize",V),g(a.table,n)}function U(e,n,t,o){return`
    <div class="number">${e+1}</div>
    <div class="name">${n}</div>
    <div class="details">${t}<br>${o}</div>
  `}function _(){if(!x())return;const e=`
    <button type="button" class="button btn-logout js-logout">Log Out</button>
  `;document.body.insertAdjacentHTML("afterbegin",e),document.body.querySelector(".js-logout").addEventListener("click",O)}_();function L(){requestAnimationFrame(L),TWEEN.update(),h.update()}let f="table";const G=[{id:"home",target:a.table},{id:"table",target:a.table},{id:"sphere",target:a.sphere},{id:"helix",target:a.helix},{id:"grid",target:a.grid}];G.forEach(({id:e,target:n})=>{const t=document.getElementById(e);console.log(e,t),e==="home"?t.addEventListener("click",()=>{y(),setTimeout(()=>{g(n,2e3)},1e3),f="table"}):t.addEventListener("click",()=>{y(),f!==e&&(g(n,2e3),f=e)})});document.addEventListener("DOMContentLoaded",()=>{if(window.location.pathname==="/admin"){window.location.pathname=window.location.pathname.replace("/admin","/admin.html");return}W().then(t=>{F(t,2e3),L()})});
//# sourceMappingURL=commonHelpers2.js.map
