{"version":3,"file":"commonHelpers2.js","sources":["../src/js/modules/modal.js","../src/js/modules/camera.js","../src/js/modules/generateTargets.js","../src/js/modules/transform.js","../src/js/modules/eventHandlers.js","../src/js/modules/init.js","../src/js/modules/animate.js","../src/js/main.js"],"sourcesContent":["import { getMoleculesByName, updateMolecule } from './api';\nimport showdown from 'showdown';\nimport { hasToken } from './tokens.js';\n\nconst converter = new showdown.Converter();\nconst refs = {\n  container: document.querySelector('.js-container'),\n};\nlet instance;\n\nrefs.container.addEventListener('click', async e => {\n  const elem = e.target.closest('.js-element');\n  if (!elem) return;\n  const name = elem.dataset.name;\n  const promiseInfo = getMoleculesByName(name);\n  const isAdmin = hasToken();\n\n  openLoadingModal(promiseInfo);\n  if (isAdmin) {\n    openAdminModal(promiseInfo);\n  } else {\n    openUserModal(promiseInfo);\n  }\n});\n\nasync function openUserModal(promise) {\n  const data = await promise;\n  const markup = userModalTemplate(data);\n  instance = basicLightbox.create(markup);\n  instance.show();\n}\nasync function openAdminModal(promise) {\n  const data = await promise;\n  const markup = adminModalTemplate(data);\n  instance = basicLightbox.create(markup, {\n    onShow: () => {\n      window.addEventListener('submit', onFormSubmit);\n    },\n    onClose: () => {\n      window.removeEventListener('submit', onFormSubmit);\n    },\n  });\n  instance.show();\n}\nfunction openLoadingModal(promise) {\n  const instance = basicLightbox.create(`\n  <div class=\"modal\">\n  <h1>LOADING</h1>\n<div>`);\n  instance.show();\n\n  promise.then(() => {\n    instance.close();\n  });\n}\n\nfunction userModalTemplate(data) {\n  console.log(data);\n  return `<div class=\"modal\">\n  <div class=\"info\">\n  <div><h1><span>${data.name}</span> - ${data.title}</h1><p>${\n    data.index\n  }</p></div>\n  <div class=\"content\">${converter.makeHtml(data.description)}</div>\n  <div class=\"content\">${converter.makeHtml(data.description2)}</div>\n  </div></div>`;\n}\nfunction adminModalTemplate(data) {\n  console.log(data);\n  return `<div class=\"modal\">\n  <form class=\"info js-form\">\n    <input name=\"name\" class=\"form-control\" type=\"text\" readonly value=\"${data.name}\">\n    <textarea name=\"description\" class=\"form-control\" type=\"text\" placeholder=\"Description\">${data.description}</textarea>\n    <textarea name=\"description2\" class=\"form-control\" type=\"text\" placeholder=\"Description\">${data.description2}</textarea>\n    <button class=\"form-btn\">Update Info</button>\n  </form>\n<div>`;\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const formData = new FormData(e.target);\n  const data = Object.fromEntries(formData.entries());\n  updateMolecule(data);\n  instance.close();\n  e.target.reset();\n  updateElementClass(data);\n}\n\nfunction updateElementClass(data) {\n  const elem = document.querySelector(`.js-element[data-name=\"${data.name}\"]`);\n\n  const hasDesc = Boolean(data.description2);\n\n  if (hasDesc) {\n    elem.classList.add('desc');\n  } else {\n    elem.classList.remove('desc');\n  }\n}\n","import { initialCameraPosition, camera, controls } from \"./init.js\";\n\nexport function resetCameraPosition() {\n  new TWEEN.Tween(camera.position)\n    .to(\n      {\n        x: initialCameraPosition.x,\n        y: initialCameraPosition.y,\n        z: initialCameraPosition.z,\n      },\n      1000\n    )\n    .easing(TWEEN.Easing.Quadratic.InOut)\n    .start();\n\n  resetRotation();\n}\n\nexport function resetRotation() {\n  const upVec = new THREE.Vector3(0, 1, 0);\n  camera.up = upVec;\n  controls.update();\n}\n","import { targets, objects } from './init.js';\n\nexport function generateTargets(table = []) {\n  console.log(table);\n\n  table.forEach(() => {\n    const object = new THREE.Object3D();\n    object.position.x = Math.random() * 4000 - 2000;\n    object.position.y = Math.random() * 4000 - 2000;\n    object.position.z = Math.random() * 4000 - 2000;\n    targets.random.push(object);\n  });\n\n  table.forEach(item => {\n    const object = new THREE.Object3D();\n    object.position.x = item.x * 160 - 1540;\n    object.position.y = -(item.y * 200) + 1100;\n    targets.table.push(object);\n  });\n\n  const vector = new THREE.Vector3();\n  objects.forEach((_, i, l) => {\n    const phi = Math.acos(-1 + (2 * i) / l.length);\n    const theta = Math.sqrt(l.length * Math.PI) * phi;\n\n    const object = new THREE.Object3D();\n    object.position.x = 1000 * Math.cos(theta) * Math.sin(phi);\n    object.position.y = 1000 * Math.sin(theta) * Math.sin(phi);\n    object.position.z = 1000 * Math.cos(phi);\n\n    vector.copy(object.position).multiplyScalar(2);\n    object.lookAt(vector);\n\n    targets.sphere.push(object);\n  });\n\n  objects.forEach((_, i) => {\n    const phi = i * 0.175 + Math.PI;\n\n    const object = new THREE.Object3D();\n    object.position.x = 1100 * Math.sin(phi);\n    object.position.y = -(i * 8) + 450;\n    object.position.z = 1100 * Math.cos(phi);\n\n    const vector = new THREE.Vector3();\n    vector.copy(object.position);\n    vector.x *= 2;\n    vector.z *= 2;\n    object.lookAt(vector);\n\n    targets.helix.push(object);\n  });\n\n  objects.forEach((_, i) => {\n    const object = new THREE.Object3D();\n    object.position.x = (i % 5) * 400 - 800;\n    object.position.y = -(Math.floor(i / 5) % 5) * 400 + 800;\n    object.position.z = Math.floor(i / 25) * 1000 - 2000;\n    targets.grid.push(object);\n  });\n}\n","import { objects, render } from \"./init.js\";\n\nexport function transform(targets, duration) {\n  TWEEN.removeAll();\n\n  objects.forEach((object, i) => {\n    const target = targets[i];\n\n    new TWEEN.Tween(object.position)\n      .to(\n        {\n          x: target.position.x,\n          y: target.position.y,\n          z: target.position.z,\n        },\n        Math.random() * duration + duration\n      )\n      .easing(TWEEN.Easing.Exponential.InOut)\n      .start();\n\n    new TWEEN.Tween(object.rotation)\n      .to(\n        {\n          x: target.rotation.x,\n          y: target.rotation.y,\n          z: target.rotation.z,\n        },\n        Math.random() * duration + duration\n      )\n      .easing(TWEEN.Easing.Exponential.InOut)\n      .start();\n  });\n\n  new TWEEN.Tween({})\n    .to({}, duration * 2)\n    .onUpdate(render)\n    .start();\n}\n","import { camera, renderer } from \"./init.js\";\n\nexport function onWindowResize() {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n}\n","import { resetCameraPosition, resetRotation } from './camera.js';\nimport { generateTargets } from './generateTargets.js';\nimport { transform } from './transform.js';\nimport { onWindowResize } from './eventHandlers.js';\nimport { hasToken } from './tokens.js';\nimport { userLogOut } from './api.js';\n\nexport let camera, scene, renderer, controls;\nexport let objects = [];\nexport let targets = { table: [], sphere: [], helix: [], grid: [], random: [] };\nexport let initialCameraPosition = new THREE.Vector3();\n\nexport function render() {\n  renderer.render(scene, camera);\n}\n\nexport function init(data = [], firstDelay = 2000) {\n  camera = new THREE.PerspectiveCamera(\n    75,\n    window.innerWidth / window.innerHeight,\n    1,\n    5000,\n  );\n  camera.position.z = 1800;\n  initialCameraPosition.copy(camera.position);\n\n  scene = new THREE.Scene();\n\n  data.forEach((item, i) => {\n    const {\n      name,\n      title,\n      massa,\n      index,\n      index2,\n      description,\n      description2,\n      tags,\n    } = item;\n\n    const element = document.createElement('div');\n    const hasDescription = Boolean(description2);\n    element.className = `element js-element ${tags.join(' ')}`;\n\n    if (hasDescription) {\n      element.classList.add('desc');\n    }\n\n    element.dataset.id = i;\n    element.dataset.name = name;\n    // element.style.backgroundColor = `rgba(0,127,127,${\n    //   Math.random() * 0.5 + 0.25\n    // })`;\n\n    element.innerHTML = createElementHTML(i, name, title, massa);\n\n    const object = new THREE.CSS3DObject(element);\n    object.position.x = Math.random() * 4000 - 2000;\n    object.position.y = Math.random() * 4000 - 2000;\n    object.position.z = Math.random() * 4000 - 2000;\n    scene.add(object);\n\n    objects.push(object);\n  });\n\n  generateTargets(data);\n\n  renderer = new THREE.WebGLRenderer();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.domElement.style.position = 'absolute';\n  renderer.domElement.style.top = 0;\n  document.getElementById('container').appendChild(renderer.domElement);\n\n  controls = new THREE.TrackballControls(camera, renderer.domElement);\n  controls.rotateSpeed = 0.5;\n  controls.addEventListener('change', render);\n\n  window.addEventListener('resize', onWindowResize);\n\n  transform(targets.table, firstDelay);\n}\n\nfunction createElementHTML(id, name, title, massa) {\n  return `\n    <div class=\"number\">${id + 1}</div>\n    <div class=\"name\">${name}</div>\n    <div class=\"details\">${title}<br>${massa}</div>\n  `;\n}\n\nfunction renderLogOutBtn() {\n  if (!hasToken()) {\n    return;\n  }\n\n  const markup = `\n    <button type=\"button\" class=\"button btn-logout js-logout\">Log Out</button>\n  `;\n\n  document.body.insertAdjacentHTML('afterbegin', markup);\n  document.body\n    .querySelector('.js-logout')\n    .addEventListener('click', userLogOut);\n}\n\nrenderLogOutBtn();\n","import { controls } from './init.js';\n\nexport function animate() {\n  requestAnimationFrame(animate);\n  TWEEN.update();\n  controls.update();\n}\n","import './modules/modal.js';\nimport { init, targets } from './modules/init.js';\nimport { animate } from './modules/animate.js';\nimport { transform } from './modules/transform.js';\nimport { resetCameraPosition } from './modules/camera.js';\nimport { getMolecules } from './modules/api.js';\nlet lastState = 'table';\n\nconst buttonConfigs = [\n  { id: 'home', target: targets.table },\n  { id: 'table', target: targets.table },\n  { id: 'sphere', target: targets.sphere },\n  { id: 'helix', target: targets.helix },\n  { id: 'grid', target: targets.grid },\n];\n\nbuttonConfigs.forEach(({ id, target }) => {\n  const button = document.getElementById(id);\n  console.log(id, button);\n  if (id === 'home') {\n    button.addEventListener('click', () => {\n      resetCameraPosition();\n      setTimeout(() => {\n        transform(target, 2000);\n      }, 1000);\n\n      lastState = 'table';\n    });\n  } else {\n    button.addEventListener('click', () => {\n      resetCameraPosition();\n      if (lastState !== id) {\n        transform(target, 2000);\n        lastState = id;\n      }\n    });\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const location = window.location;\n  const path = location.pathname;\n  if (path === '/admin') {\n    window.location.pathname = window.location.pathname.replace(\n      '/admin',\n      '/admin.html',\n    );\n    return;\n  }\n\n  getMolecules().then(data => {\n    init(data, 2000);\n    animate();\n  });\n});\n"],"names":["converter","showdown","refs","instance","elem","name","promiseInfo","getMoleculesByName","isAdmin","hasToken","openLoadingModal","openAdminModal","openUserModal","promise","data","markup","userModalTemplate","adminModalTemplate","onFormSubmit","formData","updateMolecule","updateElementClass","resetCameraPosition","camera","initialCameraPosition","resetRotation","upVec","controls","generateTargets","table","object","targets","item","vector","objects","_","i","l","phi","theta","transform","duration","target","render","onWindowResize","renderer","scene","init","firstDelay","title","massa","index","index2","description","description2","tags","element","hasDescription","createElementHTML","id","renderLogOutBtn","userLogOut","animate","lastState","buttonConfigs","button","getMolecules"],"mappings":"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"}